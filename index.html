<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Weight Calculator</title>
    <style>
        /* Design inspired by www.koch.ch: Clean, modern, white background, red accents, sans-serif fonts */
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: #ffffff;
            color: #333333;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #d32f2f; /* Primary red accent */
            color: #ffffff;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        header h1 {
            margin: 0;
            font-size: 2em;
        }
        .language-switcher {
            text-align: center;
            background-color: #d32f2f;
            padding: 10px 0;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
        }
        .language-switcher button {
            background: none;
            border: none;
            color: #ffffff;
            cursor: pointer;
            font-size: 1em;
            margin: 0 10px;
        }
        .language-switcher button.active {
            font-weight: bold;
            text-decoration: underline;
        }
        main {
            max-width: 800px;
            margin: 60px auto 40px; /* Adjusted for fixed language bar */
            padding: 20px;
            background-color: #f8f8f8;
            border: 1px solid #dddddd;
            border-radius: 5px;
        }
        section {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        select, input[type="number"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #cccccc;
            border-radius: 3px;
        }
        button {
            background-color: #d32f2f;
            color: #ffffff;
            padding: 10px 20px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 1em;
        }
        button:hover {
            background-color: #b71c1c;
        }
        #result {
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
        }
        #disclaimer {
            margin-top: 10px;
            font-size: 0.9em;
            color: #666666;
        }
        footer {
            text-align: center;
            padding: 10px;
            background-color: #eeeeee;
            color: #666666;
            position: fixed;
            width: 100%;
            bottom: 0;
        }
    </style>
</head>
<body>
    <div class="language-switcher">
        <button onclick="changeLanguage('de')">DE</button>
        <button onclick="changeLanguage('fr')">FR</button>
        <button onclick="changeLanguage('en')" class="active">EN</button>
        <button onclick="changeLanguage('it')">IT</button>
    </div>
    <header style="margin-top: 40px;"> <!-- Adjusted for language bar -->
        <h1>Panel Weight Calculator</h1>
    </header>
    <main>
        <section>
            <p>Welcome to the Panel Weight Calculator for carpenters. Calculate the weight of panels based on material, thickness, length, and width. Metric units (mm, kg) by default; imperial (inches, lbs) available.</p>
        </section>
        <section id="units-section" style="display: block;">
            <label for="units">Units:</label>
            <select id="units" onchange="updateUnits()">
                <option value="metric">Metric (mm, kg)</option>
                <option value="imperial">Imperial (inches, lbs)</option>
            </select>
        </section>
        <section>
            <label for="category">Category:</label>
            <select id="category" onchange="updateMaterials()">
                <option value="woods">Woods</option>
                <option value="metals">Metals</option>
                <option value="glasses">Glasses</option>
            </select>
        </section>
        <section>
            <label for="material">Material:</label>
            <select id="material" onchange="updateDensity()">
                <!-- Options will be populated by JS -->
            </select>
        </section>
        <section>
            <label for="density">Density (kg/m³):</label>
            <input type="number" id="density" min="0" step="1" required>
        </section>
        <section>
            <label for="thickness">Thickness (mm):</label>
            <input type="number" id="thickness" min="0" step="0.1" required>
        </section>
        <section>
            <label for="length">Length (mm):</label>
            <input type="number" id="length" min="0" step="0.1" required>
        </section>
        <section>
            <label for="width">Width (mm):</label>
            <input type="number" id="width" min="0" step="0.1" required>
        </section>
        <button onclick="calculateWeight()">Calculate</button>
        <div id="result"></div>
        <p id="disclaimer"></p>
    </main>
    <footer>
        &copy; 2025 Panel Weight Calculator. Information without warranty, any liability is excluded.
    </footer>

    <script>
        // Material data with IDs and densities in kg/m³
        const materialData = {
            woods: [
                {id: 'beech', density: 700},
                {id: 'oak', density: 750},
                {id: 'spruce', density: 450},
                {id: 'pine', density: 500},
                {id: 'ash', density: 700},
                {id: 'maple', density: 705},
                {id: 'alder', density: 500},
                {id: 'mdf', density: 750},
                {id: 'particleboard', density: 700},
                {id: 'corian', density: 1780},
                {id: 'three_layer_spruce', density: 450},
                {id: 'beech_plywood', density: 700},
                {id: 'birch_plywood', density: 700}
            ],
            metals: [
                {id: 'aluminium', density: 2705},
                {id: 'steel', density: 7850},
                {id: 'copper', density: 8944},
                {id: 'brass', density: 8587},
                {id: 'zinc', density: 7140}
            ],
            glasses: [
                {id: 'float_glass', density: 2500},
                {id: 'tempered_glass', density: 2500},
                {id: 'laminated_glass', density: 2530},
                {id: 'plexiglass', density: 1190}
            ]
        };

        // Translations
        const translations = {
            de: {
                title: 'Platten-Gewichtsrechner',
                welcome: 'Willkommen beim Platten-Gewichtsrechner für Schreiner. Berechnen Sie das Gewicht von Platten basierend auf Material, Dicke, Länge und Breite. Nur metrische Einheiten: mm für Maße, kg für Gewicht.',
                category: 'Kategorie:',
                material: 'Material:',
                density: 'Dichte (kg/m³):',
                thickness: 'Dicke (mm):',
                length: 'Länge (mm):',
                width: 'Breite (mm):',
                calculate: 'Berechnen',
                result: 'Gewicht: {weight} kg',
                disclaimer: 'Dichteschwankungen können das kalkulierte Gewicht abweichen lassen. Rohdichte bei Bedarf bitte manuell anpassen.',
                woods: 'Hölzer',
                metals: 'Metalle',
                glasses: 'Gläser',
                footer: '&copy; 2025 Platten-Gewichtsrechner. Angaben ohne Gewähr, jegliche Haftung wird ausgeschlossen.',
                error: 'Bitte alle Felder ausfüllen.',
                // Material translations
                beech: 'Buche',
                oak: 'Eiche',
                spruce: 'Fichte',
                pine: 'Kiefer',
                ash: 'Esche',
                maple: 'Ahorn',
                alder: 'Erle',
                mdf: 'MDF',
                particleboard: 'Spanplatte',
                corian: 'Corian',
                three_layer_spruce: 'Dreischichtplatte aus Fichte',
                beech_plywood: 'Sperrholz aus Buche',
                birch_plywood: 'Sperrholz aus Birke',
                aluminium: 'Aluminium',
                steel: 'Stahl',
                copper: 'Kupfer',
                brass: 'Messing',
                zinc: 'Zink',
                float_glass: 'Floatglas',
                tempered_glass: 'Gehärtetes Glas',
                laminated_glass: 'Verbundglas',
                plexiglass: 'Plexiglas'
            },
            fr: {
                title: 'Calculateur de poids de plaques',
                welcome: 'Bienvenue sur le calculateur de poids de plaques pour menuisiers. Calculez le poids des plaques en fonction du matériau, de l\'épaisseur, de la longueur et de la largeur. Unités métriques uniquement : mm pour les mesures, kg pour le poids.',
                category: 'Catégorie :',
                material: 'Matériau :',
                density: 'Densité (kg/m³) :',
                thickness: 'Épaisseur (mm) :',
                length: 'Longueur (mm) :',
                width: 'Largeur (mm) :',
                calculate: 'Calculer',
                result: 'Poids : {weight} kg',
                disclaimer: 'Les variations de densité peuvent faire dévier le poids calculé. Veuillez ajuster la densité brute manuellement si nécessaire.',
                woods: 'Bois',
                metals: 'Métaux',
                glasses: 'Verres',
                footer: '&copy; 2025 Calculateur de poids de plaques. Informations sans garantie, toute responsabilité est exclue.',
                error: 'Veuillez remplir tous les champs.',
                // Material translations
                beech: 'Hêtre',
                oak: 'Chêne',
                spruce: 'Épicéa',
                pine: 'Pin',
                ash: 'Frêne',
                maple: 'Érable',
                alder: 'Aulne',
                mdf: 'MDF',
                particleboard: 'Panneau de particules',
                corian: 'Corian',
                three_layer_spruce: 'Panneau trois couches en épicéa',
                beech_plywood: 'Contreplaqué en hêtre',
                birch_plywood: 'Contreplaqué en bouleau',
                aluminium: 'Aluminium',
                steel: 'Acier',
                copper: 'Cuivre',
                brass: 'Laiton',
                zinc: 'Zinc',
                float_glass: 'Verre float',
                tempered_glass: 'Verre trempé',
                laminated_glass: 'Verre feuilleté',
                plexiglass: 'Plexiglas'
            },
            en: {
                title: 'Panel Weight Calculator',
                welcome: 'Welcome to the Panel Weight Calculator for carpenters. Calculate the weight of panels based on material, thickness, length, and width. Metric units (mm, kg) by default; imperial (inches, lbs) available.',
                category: 'Category:',
                material: 'Material:',
                density: 'Density (kg/m³):',
                thickness: 'Thickness (mm):',
                length: 'Length (mm):',
                width: 'Width (mm):',
                calculate: 'Calculate',
                result: 'Weight: {weight} {unit}',
                disclaimer: 'Density variations may cause the calculated weight to deviate. Please adjust the raw density manually if necessary.',
                woods: 'Woods',
                metals: 'Metals',
                glasses: 'Glasses',
                footer: '&copy; 2025 Panel Weight Calculator. Information without warranty, any liability is excluded.',
                error: 'Please fill all fields.',
                units: 'Units:',
                // Material translations
                beech: 'Beech',
                oak: 'Oak',
                spruce: 'Spruce',
                pine: 'Pine',
                ash: 'Ash',
                maple: 'Maple',
                alder: 'Alder',
                mdf: 'MDF',
                particleboard: 'Particleboard',
                corian: 'Corian',
                three_layer_spruce: 'Three-layer Spruce Panel',
                beech_plywood: 'Beech Plywood',
                birch_plywood: 'Birch Plywood',
                aluminium: 'Aluminium',
                steel: 'Steel',
                copper: 'Copper',
                brass: 'Brass',
                zinc: 'Zinc',
                float_glass: 'Float Glass',
                tempered_glass: 'Tempered Glass',
                laminated_glass: 'Laminated Glass',
                plexiglass: 'Plexiglass'
            },
            it: {
                title: 'Calcolatore del Peso dei Pannelli',
                welcome: 'Benvenuti nel Calcolatore del Peso dei Pannelli per falegnami. Calcola il peso dei pannelli in base al materiale, spessore, lunghezza e larghezza. Solo unità metriche: mm per le dimensioni, kg per il peso.',
                category: 'Categoria:',
                material: 'Materiale:',
                density: 'Densità (kg/m³):',
                thickness: 'Spessore (mm):',
                length: 'Lunghezza (mm):',
                width: 'Larghezza (mm):',
                calculate: 'Calcola',
                result: 'Peso: {weight} kg',
                disclaimer: 'Le variazioni di densità possono far deviare il peso calcolato. Si prega di regolare manualmente la densità grezza se necessario.',
                woods: 'Legni',
                metals: 'Metalli',
                glasses: 'Vetri',
                footer: '&copy; 2025 Calcolatore del Peso dei Pannelli. Informazioni senza garanzia, qualsiasi responsabilità è esclusa.',
                error: 'Si prega di compilare tutti i campi.',
                // Material translations
                beech: 'Faggio',
                oak: 'Quercia',
                spruce: 'Abete',
                pine: 'Pino',
                ash: 'Frassino',
                maple: 'Acero',
                alder: 'Ontano',
                mdf: 'MDF',
                particleboard: 'Truciolare',
                corian: 'Corian',
                three_layer_spruce: 'Pannello a tre strati di abete',
                beech_plywood: 'Compensato di faggio',
                birch_plywood: 'Compensato di betulla',
                aluminium: 'Alluminio',
                steel: 'Acciaio',
                copper: 'Rame',
                brass: 'Ottone',
                zinc: 'Zinco',
                float_glass: 'Vetro float',
                tempered_glass: 'Vetro temperato',
                laminated_glass: 'Vetro laminato',
                plexiglass: 'Plexiglas'
            }
        };

        // Constants for unit conversions
        const METRIC_TO_IMPERIAL_DENSITY = 0.06242796; // kg/m³ to lb/ft³
        const IMPERIAL_TO_METRIC_DENSITY = 1 / METRIC_TO_IMPERIAL_DENSITY;

        // Current language and units
        let currentLang = 'en';
        let currentUnits = 'metric';
        let previousUnits = 'metric';

        function updateMaterials() {
            const category = document.getElementById('category').value;
            const materialSelect = document.getElementById('material');
            materialSelect.innerHTML = '';
            materialData[category].forEach(mat => {
                const option = document.createElement('option');
                option.value = mat.density; // Always kg/m³
                option.textContent = translations[currentLang][mat.id];
                option.dataset.id = mat.id;
                option.dataset.density = mat.density;
                materialSelect.appendChild(option);
            });
            updateDensity();
        }

        function updateDensity() {
            const materialSelect = document.getElementById('material');
            const selectedOption = materialSelect.options[materialSelect.selectedIndex];
            if (selectedOption) {
                const densityKgM3 = parseFloat(selectedOption.dataset.density);
                let displayDensity = densityKgM3;
                if (currentLang === 'en' && currentUnits === 'imperial') {
                    displayDensity = densityKgM3 * METRIC_TO_IMPERIAL_DENSITY;
                }
                document.getElementById('density').value = displayDensity.toFixed(2);
            }
        }

        function updateUnits() {
            const newUnits = document.getElementById('units').value;
            const previous = previousUnits;
            previousUnits = newUnits;
            currentUnits = newUnits;

            // Update dimension labels
            const dimUnit = currentUnits === 'metric' ? '(mm)' : '(inches)';
            document.querySelector('label[for="thickness"]').textContent = translations[currentLang].thickness.replace('(mm)', dimUnit);
            document.querySelector('label[for="length"]').textContent = translations[currentLang].length.replace('(mm)', dimUnit);
            document.querySelector('label[for="width"]').textContent = translations[currentLang].width.replace('(mm)', dimUnit);

            // Update density label and value
            const densityInput = document.getElementById('density');
            let currentDensity = parseFloat(densityInput.value);
            if (!isNaN(currentDensity)) {
                if (previous === 'metric' && currentUnits === 'imperial') {
                    currentDensity *= METRIC_TO_IMPERIAL_DENSITY;
                } else if (previous === 'imperial' && currentUnits === 'metric') {
                    currentDensity *= IMPERIAL_TO_METRIC_DENSITY;
                }
                densityInput.value = currentDensity.toFixed(2);
            }
            const densityUnit = currentUnits === 'metric' ? 'kg/m³' : 'lb/ft³';
            document.querySelector('label[for="density"]').textContent = translations[currentLang].density.replace('(kg/m³)', `(${densityUnit})`);
        }

        function calculateWeight() {
            const density = parseFloat(document.getElementById('density').value);
            const thickness = parseFloat(document.getElementById('thickness').value);
            const length = parseFloat(document.getElementById('length').value);
            const width = parseFloat(document.getElementById('width').value);
            if (isNaN(density) || isNaN(thickness) || isNaN(length) || isNaN(width)) {
                alert(translations[currentLang].error);
                return;
            }
            let weight;
            let weightUnit;
            if (currentLang === 'en' && currentUnits === 'imperial') {
                // Density in lb/ft³, dimensions in inches
                const volume_inches3 = thickness * length * width;
                const volume_ft3 = volume_inches3 / 1728;
                weight = density * volume_ft3;
                weightUnit = 'lbs';
            } else {
                // Density in kg/m³, dimensions in mm
                const volume_mm3 = thickness * length * width;
                const volume_m3 = volume_mm3 / 1000000000;
                weight = density * volume_m3;
                weightUnit = 'kg';
            }
            const resultText = translations[currentLang].result.replace('{weight}', weight.toFixed(2)).replace('{unit}', weightUnit);
            document.getElementById('result').textContent = resultText;
            document.getElementById('disclaimer').textContent = translations[currentLang].disclaimer;
        }

        function changeLanguage(lang) {
            currentLang = lang;
            document.documentElement.lang = lang;
            document.title = translations[lang].title;
            document.querySelector('h1').textContent = translations[lang].title;
            document.querySelector('main p').textContent = translations[lang].welcome;
            document.querySelector('label[for="category"]').textContent = translations[lang].category;
            document.querySelector('label[for="material"]').textContent = translations[lang].material;
            document.querySelector('label[for="density"]').textContent = translations[lang].density;
            document.querySelector('label[for="thickness"]').textContent = translations[lang].thickness;
            document.querySelector('label[for="length"]').textContent = translations[lang].length;
            document.querySelector('label[for="width"]').textContent = translations[lang].width;
            document.querySelector('button[onclick="calculateWeight()"]').textContent = translations[lang].calculate;
            document.querySelector('footer').innerHTML = translations[lang].footer;
            document.getElementById('disclaimer').textContent = translations[lang].disclaimer;

            // Update category options
            const categorySelect = document.getElementById('category');
            categorySelect.options[0].text = translations[lang].woods;
            categorySelect.options[1].text = translations[lang].metals;
            categorySelect.options[2].text = translations[lang].glasses;

            // Show/hide units section and reset units if not English
            const unitsSection = document.getElementById('units-section');
            if (lang === 'en') {
                unitsSection.style.display = 'block';
            } else {
                unitsSection.style.display = 'none';
                currentUnits = 'metric';
                previousUnits = 'metric';
                // Reset labels to metric
                document.querySelector('label[for="thickness"]').textContent = translations[lang].thickness;
                document.querySelector('label[for="length"]').textContent = translations[lang].length;
                document.querySelector('label[for="width"]').textContent = translations[lang].width;
                document.querySelector('label[for="density"]').textContent = translations[lang].density;
            }

            // Update language buttons
            document.querySelectorAll('.language-switcher button').forEach(btn => {
                btn.classList.remove('active');
                if (btn.onclick.toString().includes(`'${lang}'`)) {
                    btn.classList.add('active');
                }
            });

            // Re-populate materials
            updateMaterials();
            if (lang === 'en') {
                updateUnits();
            }
        }

        // Initial setup
        updateMaterials();
        changeLanguage('en');
    </script>
</body>
</html>
